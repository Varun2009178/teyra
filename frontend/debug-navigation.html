<!DOCTYPE html>
<html>
<head>
    <title>Debug Navigation</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #000; color: #fff; }
        .log { margin: 5px 0; padding: 5px; background: #111; border-radius: 3px; }
        .error { background: #400; }
        .success { background: #040; }
    </style>
</head>
<body>
    <h1>Navigation Debug Tool</h1>
    <p>Open this in a new tab, then try navigating from welcome to dashboard.</p>
    <div id="logs"></div>
    
    <script>
        const logs = document.getElementById('logs');
        
        function addLog(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `log ${type}`;
            div.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
            logs.appendChild(div);
            console.log(message);
        }
        
        // Listen for navigation events
        window.addEventListener('beforeunload', () => {
            addLog('Page is unloading');
        });
        
        window.addEventListener('load', () => {
            addLog('Page loaded', 'success');
        });
        
        // Check current URL
        addLog(`Current URL: ${window.location.href}`);
        
        // Monitor URL changes
        let currentUrl = window.location.href;
        setInterval(() => {
            if (window.location.href !== currentUrl) {
                currentUrl = window.location.href;
                addLog(`URL changed to: ${currentUrl}`, 'success');
            }
        }, 100);
        
        // Test navigation
        function testNavigation() {
            addLog('Testing navigation to dashboard...');
            window.location.href = '/dashboard';
        }
        
        // Add test button
        const button = document.createElement('button');
        button.textContent = 'Test Navigate to Dashboard';
        button.onclick = testNavigation;
        button.style.cssText = 'padding: 10px; margin: 10px 0; background: #333; color: #fff; border: 1px solid #666; border-radius: 5px; cursor: pointer;';
        document.body.insertBefore(button, logs);
    </script>
</body>
</html>